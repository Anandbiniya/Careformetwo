{
 "etype": "OutgoingEmailError",
 "evalue": "OutgoingEmailError('Please setup default Email Account from Setup > Email > Email Account')",
 "exception": {
  "args": [
   40,
   39,
   80,
   108,
   101,
   97,
   115,
   101,
   32,
   115,
   101,
   116,
   117,
   112,
   32,
   100,
   101,
   102,
   97,
   117,
   108,
   116,
   32,
   69,
   109,
   97,
   105,
   108,
   32,
   65,
   99,
   99,
   111,
   117,
   110,
   116,
   32,
   102,
   114,
   111,
   109,
   32,
   83,
   101,
   116,
   117,
   112,
   32,
   62,
   32,
   69,
   109,
   97,
   105,
   108,
   32,
   62,
   32,
   69,
   109,
   97,
   105,
   108,
   32,
   65,
   99,
   99,
   111,
   117,
   110,
   116,
   39,
   44,
   41
  ],
  "http_status_code": [
   53,
   48,
   49
  ],
  "with_traceback": [
   60,
   98,
   117,
   105,
   108,
   116,
   45,
   105,
   110,
   32,
   109,
   101,
   116,
   104,
   111,
   100,
   32,
   119,
   105,
   116,
   104,
   95,
   116,
   114,
   97,
   99,
   101,
   98,
   97,
   99,
   107,
   32,
   111,
   102,
   32,
   79,
   117,
   116,
   103,
   111,
   105,
   110,
   103,
   69,
   109,
   97,
   105,
   108,
   69,
   114,
   114,
   111,
   114,
   32,
   111,
   98,
   106,
   101,
   99,
   116,
   62
  ]
 },
 "frames": [
  {
   "call": "(request=<Request 'http://0.0.0.0:8001/' [POST]>)",
   "dump": {
    "frappe. handler": "<module 'frappe.handler' from '/home/tech4good/my-bench/apps/frappe/frappe/handler.py'>",
    "frappe.handler. handle": "<function handle>",
    "global frappe": "<module 'frappe' from '/home/tech4good/my-bench/apps/frappe/frappe/__init__.py'>",
    "response": "None"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/app.py",
   "func": "application",
   "lines": {
    "61": "",
    "62": "\t\telif frappe.form_dict.cmd:",
    "63": "\t\t\tresponse = frappe.handler.handle()",
    "64": "",
    "65": "\t\telif request.path.startswith(\"/api/\"):"
   },
   "lnum": 63
  },
  {
   "call": "()",
   "dump": {
    "cmd": "'frappe.templates.includes.comments.comments.add_comment'",
    "data": "None",
    "global execute_cmd": "<function execute_cmd>"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/handler.py",
   "func": "handle",
   "lines": {
    "36": "",
    "37": "\tif cmd != \"login\":",
    "38": "\t\tdata = execute_cmd(cmd)",
    "39": "",
    "40": "\t# data can be an empty string or list which are valid responses"
   },
   "lnum": 38
  },
  {
   "call": "(cmd='frappe.templates.includes.comments.comments.add_comment', from_async=False)",
   "dump": {
    "frappe. call": "<function call>",
    "frappe. form_dict": "{'comment_by': 'Administrator', 'comment_email':...emplates.includes.comments.comments.add_comment'}",
    "global frappe": "<module 'frappe' from '/home/tech4good/my-bench/apps/frappe/frappe/__init__.py'>",
    "method": "<function add_comment>"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/handler.py",
   "func": "execute_cmd",
   "lines": {
    "74": "\t\tis_valid_http_method(method)",
    "75": "",
    "76": "\treturn frappe.call(method, **frappe.form_dict)",
    "77": "",
    "78": ""
   },
   "lnum": 76
  },
  {
   "call": "(fn=<function add_comment>, *args=(), **kwargs={'cmd': 'frappe.templates.includes.comments.comments.add_comment', 'comment': 'nice', 'comment_by': 'Administrator', 'comment_email': 'Administrator', 'comment_type': 'Comment', 'reference_doctype': 'Blog Post', 'reference_name': 'a-tale-of-thousand-stars', 'route': 'blog/story/a-tale-of-thousand-stars'})",
   "dump": {
    "args": "()",
    "fn": "<function add_comment>",
    "newargs": "{'comment': 'nice', 'comment_by': 'Administrator', 'comment_email': 'Administrator', 'reference_doctype': 'Blog Post', 'reference_name': 'a-tale-of-thousand-stars', 'route': 'blog/story/a-tale-of-thousand-stars'}"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/__init__.py",
   "func": "call",
   "lines": {
    "1472": "\tnewargs = get_newargs(fn, kwargs)",
    "1473": "",
    "1474": "\treturn fn(*args, **newargs)",
    "1475": "",
    "1476": ""
   },
   "lnum": 1474
  },
  {
   "call": "(comment=<Comment: c6eb64b433>, comment_email='Administrator', comment_by='Administrator', reference_doctype='Blog Post', reference_name='a-tale-of-thousand-stars', route='blog/story/a-tale-of-thousand-stars')",
   "dump": {
    ").format": "undefined",
    "content": "\"nice<p><a href='http://0.0.0.0:8001/app/Form/Com...b433' style='font-size: 80%'>View Comment</a></p>\"",
    "doc": "<BlogPost: a-tale-of-thousand-stars>",
    "doc. doctype": "'Blog Post'",
    "doc. name": "'a-tale-of-thousand-stars'",
    "doc. owner": "'Administrator'",
    "frappe. db": "<frappe.database.mariadb.database.MariaDBDatabase object>",
    "frappe. sendmail": "<function sendmail>",
    "frappe.db. get_value": "<bound method Database.get_value of <frappe.database.mariadb.database.MariaDBDatabase object>>",
    "global _": "<function _>",
    "global frappe": "<module 'frappe' from '/home/tech4good/my-bench/apps/frappe/frappe/__init__.py'>",
    "message": "undefined",
    "recipients": "undefined",
    "reference_doctype": "'Blog Post'",
    "reference_name": "'a-tale-of-thousand-stars'",
    "subject": "undefined"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/templates/includes/comments/comments.py",
   "func": "add_comment",
   "lines": {
    "60": "",
    "61": "\t# notify creator",
    "62": "\tfrappe.sendmail(",
    "63": "\t\trecipients=frappe.db.get_value(\"User\", doc.owner, \"email\") or doc.owner,",
    "64": "\t\tsubject=_(\"New Comment on {0}: {1}\").format(doc.doctype, doc.name),"
   },
   "lnum": 62
  },
  {
   "call": "(recipients='admin@example.com', sender='', subject='New Comment on Blog Post: a-tale-of-thousand-stars', message=\"nice<p><a href='http://0.0.0.0:8001/app/Form/Com...b433' style='font-size: 80%'>View Comment</a></p>\", as_markdown=False, delayed=True, reference_doctype='Blog Post', reference_name='a-tale-of-thousand-stars', unsubscribe_method=None, unsubscribe_params=None, unsubscribe_message=None, add_unsubscribe_link=1, attachments=None, content=None, doctype=None, name=None, reply_to=None, queue_separately=False, cc=[], bcc=[], message_id=None, in_reply_to=None, send_after=None, expose_recipients=None, send_priority=1, communication=None, retry=1, now=None, read_receipt=None, is_notification=False, inline_images=None, template=None, args=None, header=None, print_letterhead=False, with_container=False)",
   "dump": {
    "add_unsubscribe_link": "1",
    "attachments": "None",
    "bcc": "[]",
    "cc": "[]",
    "communication": "None",
    "doctype": "None",
    "expose_recipients": "None",
    "header": "None",
    "in_reply_to": "None",
    "inline_images": "None",
    "is_notification": "False",
    "message": "\"nice<p><a href='http://0.0.0.0:8001/app/Form/Com...b433' style='font-size: 80%'>View Comment</a></p>\"",
    "message_id": "None",
    "name": "None",
    "now": "None",
    "print_letterhead": "False",
    "queue": "<module 'frappe.email.queue' from '/home/tech4good/my-bench/apps/frappe/frappe/email/queue.py'>",
    "queue. send": "<function send>",
    "queue_separately": "False",
    "read_receipt": "None",
    "recipients": "'admin@example.com'",
    "reference_doctype": "'Blog Post'",
    "reference_name": "'a-tale-of-thousand-stars'",
    "reply_to": "None",
    "send_after": "None",
    "send_priority": "1",
    "sender": "''",
    "subject": "'New Comment on Blog Post: a-tale-of-thousand-stars'",
    "text_content": "None",
    "unsubscribe_message": "None",
    "unsubscribe_method": "None",
    "unsubscribe_params": "None",
    "with_container": "False"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/__init__.py",
   "func": "sendmail",
   "lines": {
    "663": "\tfrom frappe.email import queue",
    "664": "",
    "665": "\tqueue.send(",
    "666": "\t\trecipients=recipients,",
    "667": "\t\tsender=sender,"
   },
   "lnum": 665
  },
  {
   "call": "(recipients=['admin@example.com'], sender='', subject='New Comment on Blog Post: a-tale-of-thousand-stars', message=\"nice<p><a href='http://0.0.0.0:8001/app/Form/Com...b433' style='font-size: 80%'>View Comment</a></p>\", text_content=None, reference_doctype='Blog Post', reference_name='a-tale-of-thousand-stars', unsubscribe_method='/api/method/frappe.email.queue.unsubscribe', unsubscribe_params=None, unsubscribe_message=None, attachments=None, reply_to=None, cc=[], bcc=[], message_id=None, in_reply_to=None, send_after=None, expose_recipients=None, send_priority=1, communication=None, now=None, read_receipt=None, queue_separately=False, is_notification=False, add_unsubscribe_link=1, inline_images=None, header=None, print_letterhead=False, with_container=False)",
   "dump": {
    "append_to": "undefined",
    "email_account": "undefined",
    "global get_outgoing_email_account": "<function get_outgoing_email_account>",
    "reference_doctype": "'Blog Post'",
    "sender": "''"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/email/queue.py",
   "func": "send",
   "lines": {
    "116": "\t\tsend_after = add_days(nowdate(), send_after)",
    "117": "",
    "118": "\temail_account = get_outgoing_email_account(True, append_to=reference_doctype, sender=sender)",
    "119": "\tif not sender or sender == \"Administrator\":",
    "120": "\t\tsender = email_account.default_sender"
   },
   "lnum": 118
  },
  {
   "call": "(raise_exception_not_set=True, append_to='Blog Post', sender='')",
   "dump": {
    "frappe. OutgoingEmailError": "<class 'frappe.exceptions.OutgoingEmailError'>",
    "frappe. throw": "<function throw>",
    "global _": "<function _>",
    "global frappe": "<module 'frappe' from '/home/tech4good/my-bench/apps/frappe/frappe/__init__.py'>"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/email/smtp.py",
   "func": "get_outgoing_email_account",
   "lines": {
    "76": "\t\t\tand cint(frappe.db.get_single_value(\"System Settings\", \"setup_complete\"))",
    "77": "\t\t):",
    "78": "\t\t\tfrappe.throw(",
    "79": "\t\t\t\t_(\"Please setup default Email Account from Setup > Email > Email Account\"),",
    "80": "\t\t\t\tfrappe.OutgoingEmailError,"
   },
   "lnum": 78
  },
  {
   "call": "(msg='Please setup default Email Account from Setup > Email > Email Account', exc=<class 'frappe.exceptions.OutgoingEmailError'>, title=None, is_minimizable=None, wide=None, as_list=False)",
   "dump": {
    "as_list": "False",
    "exc": "<class 'frappe.exceptions.OutgoingEmailError'>",
    "global msgprint": "<function msgprint>",
    "indicator": "undefined",
    "is_minimizable": "None",
    "msg": "'Please setup default Email Account from Setup > Email > Email Account'",
    "raise_exception": "undefined",
    "title": "None",
    "wide": "None"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/__init__.py",
   "func": "throw",
   "lines": {
    "503": "\t:param msg: Message.",
    "504": "\t:param exc: Exception class. Default `frappe.ValidationError`\"\"\"",
    "505": "\tmsgprint(",
    "506": "\t\tmsg,",
    "507": "\t\traise_exception=exc,"
   },
   "lnum": 505
  },
  {
   "call": "(msg='Please setup default Email Account from Setup > Email > Email Account', title=None, raise_exception=<class 'frappe.exceptions.OutgoingEmailError'>, as_table=False, as_list=False, indicator='red', alert=False, primary_action=None, is_minimizable=None, wide=None)",
   "dump": {
    "_raise_exception": "<function msgprint.<locals>._raise_exception>"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/__init__.py",
   "func": "msgprint",
   "lines": {
    "478": "\t\tlocal.response[\"exc_type\"] = raise_exception.__name__",
    "479": "",
    "480": "\t_raise_exception()",
    "481": "",
    "482": ""
   },
   "lnum": 480
  },
  {
   "call": "()",
   "dump": {
    "msg": "'Please setup default Email Account from Setup > Email > Email Account'",
    "raise_exception": "<class 'frappe.exceptions.OutgoingEmailError'>"
   },
   "file": "/home/tech4good/my-bench/apps/frappe/frappe/__init__.py",
   "func": "_raise_exception",
   "lines": {
    "433": "",
    "434": "\t\t\tif inspect.isclass(raise_exception) and issubclass(raise_exception, Exception):",
    "435": "\t\t\t\traise raise_exception(msg)",
    "436": "\t\t\telse:",
    "437": "\t\t\t\traise ValidationError(msg)"
   },
   "lnum": 435
  }
 ],
 "locals": {
  "inspect": "<module 'inspect' from '/usr/lib/python3.10/inspect.py'>",
  "msg": "Please setup default Email Account from Setup > Email > Email Account",
  "raise_exception": "<class 'frappe.exceptions.OutgoingEmailError'>"
 },
 "pyver": "Python 3.10.12: /home/tech4good/my-bench/env/bin/python (prefix: /home/tech4good/my-bench/env)",
 "timestamp": "2023-08-08 11:10:41.026754",
 "traceback": "Traceback (most recent call last):\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/app.py\", line 63, in application\n    response = frappe.handler.handle()\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/handler.py\", line 38, in handle\n    data = execute_cmd(cmd)\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/handler.py\", line 76, in execute_cmd\n    return frappe.call(method, **frappe.form_dict)\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/__init__.py\", line 1474, in call\n    return fn(*args, **newargs)\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/templates/includes/comments/comments.py\", line 62, in add_comment\n    frappe.sendmail(\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/__init__.py\", line 665, in sendmail\n    queue.send(\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/email/queue.py\", line 118, in send\n    email_account = get_outgoing_email_account(True, append_to=reference_doctype, sender=sender)\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/email/smtp.py\", line 78, in get_outgoing_email_account\n    frappe.throw(\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/__init__.py\", line 505, in throw\n    msgprint(\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/__init__.py\", line 480, in msgprint\n    _raise_exception()\n  File \"/home/tech4good/my-bench/apps/frappe/frappe/__init__.py\", line 435, in _raise_exception\n    raise raise_exception(msg)\nfrappe.exceptions.OutgoingEmailError: Please setup default Email Account from Setup > Email > Email Account\n"
}